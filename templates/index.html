<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Convener</title>
    <meta name="description" content="Convener">
    <meta name="keywords" content="meeting group scheduling convenience simple interface princeton university students cos 333">
    
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans|Candal|Alegreya+Sans">
    <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/static/css/imagehover.min.css">
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- =======================================================
        Theme Name: Mentor
        Theme URL: https://bootstrapmade.com/mentor-free-education-bootstrap-theme/
        Author: BootstrapMade.com
        Author URL: https://bootstrapmade.com
    ======================================================= -->
   	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/scrollbar.css') }}">
   	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/tooltip.css') }}">
   	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/table.css') }}">
   	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/index.css') }}">

   	<link rel="shortcut icon" href="/static/img/favicon.ico">
  <!-- paraphrased from http://code.runnable.com/UpYDdiBGFJNXAAAz/parse-json-request-data-from-request-in-flask-for-python -->
  <script src="http://code.jquery.com/jquery-1.12.4.min.js"></script>
   

  </head>
  <body onload="parseInitialData('{{ init_data }}')">
    <!--Navigation bar-->
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html"><span>Convener</span></a>
          </div>
          <div class="collapse navbar-collapse" id="myNavbar">
          <ul class="nav navbar-nav navbar-right">
          <li><a href="#">Welcome, {{ user }}</a></li>
          <li><a href="#" onclick="resetEverything()">Home</a></li>
          <li><a href="#">Preferred</a></li>
          <li class="requestsLI">
          	<a class="requestsAnchor" onclick="dropdown()">
          		Requests
          		<span id="requestsBadge" class="badge"></span>
      		</a>
          	<div id="myRequestedDiv" class="dropdown-content">

          	</div>
          </li>
          <li><a href="/logout">Log Out</a></li>
        </ul>
        </div>
      </div>
    </nav>
    <!--/ Navigation bar-->

    <!--Feature-->
    <section id ="feature" class="section-padding">
      <div class="container-full">
        <!-- Row 1 -->
        <div class="row">
          <div class="header-section text-center">
          	<div>Warning: This web app is still in pre-alpha production. Usage might not have the desired effects and user data might be lost at anytime.</div>
            <h2 id="tableHeader">Convener</h2>
            <h6 id="tableSubHeader">Create Meeting</h6>
          </div>
          <div class="feature-info">
            <!-- Left Column: Responded Meetings and My Meetings -->
            <div class="fea">
              <div class="col-md-3 leftSection">
                <!-- Responded Meetings -->
                <div class="heading pull-right">
                  <h4>Responded Meetings</h4>
                  <div id="myRespondedDiv" class="scrollbar">

                  </div>
                </div>
                <div class="fea-img pull-left">
                  <i class="fa fa-css3"></i>
                </div>
                <!--/ Responded Meetings -->
             	<!-- My Meetings -->
                <div class="heading pull-right">
                  <h4>My Meetings</h4>
                  <div id="myMeetingsDiv">

                  </div>
                </div>
                <div class="fea-img pull-left">
                  <i class="fa fa-address-book"></i>
                </div>
                <!--/ My Meetings -->
              </div>
            </div>
            <!--/ Left Column -->
            <div></div>
            <!-- Middle Column: Table -->
            <div class="fea">
              <div class="col-md-7 middleSection">
                <div class="col-md-1">
                  <div id="am">AM</div>
                  <div id="pm">PM</div>
                </div>
                <div class="col-md-11">
                  <div class="table-responsive">
          					<!-- Construct Table -->
          					{{ table.html | safe }}
          					<button type="button" id="clearButton" class="btn btn-md btn-default" onclick="clearSelected()">Clear</button>
          					<button type="button" id="loadPreferredTimesButton" class="btn btn-md btn-default" onclick="">Load PTimes</button>
          					
          					<button type="button" id="createMeetingButton" class="btn btn-md btn-default" data-toggle="modal" data-target="#createMeetingModal">Create</button>
          					<button type="button" id="submitButton" class="btn btn-md btn-default" onclick="createFinalJSON('{{ user }}')">Submit</button>
          					<button type="button" id="respondButton" class="btn btn-md btn-default" onclick="createJSON('{{ user }}')">Respond</button>
          					<button type="button" id="updatePreferredTimesButton" class="btn btn-md btn-default" onclick="">Update PTimes</button>
                    <!-- Create Meeting Modal -->
                    <div class="modal fade" id="createMeetingModal" role="dialog">
                      <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                          <div class="modal-header">
                            <button id="closeModalButton" type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Create Meeting</h4>
                          </div>
                          <!-- Body of Modal -->
                          <div class="modal-body">
                            <div class="form-group">
                              <label class="control-label col-sm-2" for="title">Title:</label>
                              <div class="col-sm-10">          
                                <input type="text" class="form-control" id="title" placeholder="Enter Meeting Title">
                              </div>
                            </div>
                            <div class="form-group">
                              <label class="control-label col-sm-2" for="invite">Invite:</label>
                              <div class="col-sm-10">          
                                <input type="text" class="form-control" id="invite" placeholder="Enter NetIds separated by a comma">
                              </div>
                            </div>
                            <div class="form-group">        
                              <div class="col-sm-offset-2 col-sm-10">
                                <button type="submit" id="modalcreate" class="btn btn-default" onclick="createJSON('{{ user }}')">Create</button>
                              </div>
                            </div>
                          </div>
                          <!--/ Body of Modal -->
                          <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!--/ Create Meeting Modal -->
                  </div>
                </div>
              </div>
            </div>
            <!--/ Middle Column -->
            <!-- Right Column: Available List -->
            <div class="fea">
              <div class="col-md-2 rightSection">
              	<div id="availableList">
              		
              	</div>
              </div>
              <!--/ Right Column -->
            </div>
          </div>	
        </div>
        <!--/ Row 1 -->
      </div>
    </section>
    <!--/ feature-->

    </footer>
    <!--/ Footer-->
    
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/jquery.easing.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/custom.js"></script>
	<script src="{{ url_for('static', filename='js/table.js') }}"></script>
	<script src="{{ url_for('static', filename='js/index.js') }}"></script>
    
  </body>
</html>